{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,4G,MCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCArF,MCKDC,EAAcC,SAASC,cAAc,iBAC3BD,SAASC,cAAc,aAE/BC,iBAAiB,SAuDzB,WACIC,QAAQC,IAAI,aAKZL,EAAYM,UAAY,E,IA9C5BC,iBACI,IACI,MAAMC,QAfdD,iBACI,IAMI,aALuBE,MACnB,8FAEkBC,M,CAGxB,MAAOC,GACLP,QAAQC,IAAI,eAAgBM,E,EAMLC,GAGvBZ,EAAYM,UAAY,GACxB,MAEMO,EAFOL,EAASM,QAEEC,KAAIC,IAExB,MAAMC,EAAaD,EAAQE,MAAMC,cAEjC,IAAIC,EAAcC,EAAA5B,GAKlB,OAJIuB,EAAQM,cACRF,EDnCO,kCCmCiBJ,EAAQM,aAG7B,sDACgCN,EAAQ9B,wDACVkC,WAAqBJ,EAAQE,8FAElCD,oDACAD,EAAQO,6DAElC,IAGVvB,EAAYM,UAAYO,EAAWW,KAAK,G,CAG1C,MAAOb,GACLP,QAAQC,IAAI,eAAgBM,EAAMc,Q,EAK1CC","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-827841db8eb89f72.js","node_modules/@parcel/runtime-js/lib/runtime-f140e86861427946.js","src/js/fetch-data.js","src/js/on_load.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"2KPF7\\\":\\\"on_load.8750119d.js\\\",\\\"7WMlA\\\":\\\"no-poster_CUT.05bb0fec.jpeg\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7WMlA\")).toString();","export const KEY = '0e67fb79d752f59394a3aa358d9abf8d';\nexport const URL = 'https://api.themoviedb.org/3/';\nexport const IMG_URL = 'https://image.tmdb.org/t/p/w500';","\nimport noPosterCUT from '../images/no-poster_CUT.jpeg';\n\nimport { KEY, URL, IMG_URL } from './fetch-data';\n\nconst contentList = document.querySelector('.content-list');\nconst moreBtn = document.querySelector('.more-btn');\n\nmoreBtn.addEventListener('click', onMoreLoad);\n\nasync function fetchMainContent() {\n    try {\n        const response = await fetch(\n            `${URL}/trending/movie/day?api_key=${KEY}`\n        );\n        const data = response.json();\n\n        return data;\n    } catch (error) {\n        console.log(\" ERROR ! -> \", error)\n    }\n}\n\nasync function renderContent() {\n    try {\n        const mainData = await fetchMainContent();\n        /*     console.log(mainData) */\n\n        contentList.innerHTML = '';\n        const data = mainData.results;\n\n        const setOfCards = data.map(element => {\n\n            const movieTitle = element.title.toUpperCase();\n\n            let moviePoster = noPosterCUT;\n            if (element.poster_path) {\n                moviePoster = IMG_URL + element.poster_path;\n            }\n\n            return `\n             <li class=\"card-container\" data-id=\"${element.id}\">\n                <img class=\"image-poster\" src=\"${moviePoster}\" alt=\"${element.title}\"  />\n                <div class=\"info\"> \n                    <p class=\"movie-data\">${movieTitle}</p>\n                    <p class=\"movie-data\">${element.release_date}</p>\n                </div>\n            </li>`;\n        });\n\n        contentList.innerHTML = setOfCards.join('');\n\n\n    } catch (error) {\n        console.log(\" ERROR ! -> \", error.message)\n    }\n}\n\n\nrenderContent()\n\n\n\nfunction onMoreLoad() {\n    console.log(\"load more\")\n    clearContent();\n}\n\nfunction clearContent() {\n    contentList.innerHTML = '';\n}"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$4809b259660e77a2$exports","URL","resolve","import","meta","url","toString","$0d92ff09f4dce0a5$var$contentList","document","querySelector","addEventListener","console","log","innerHTML","async","mainData","fetch","json","error","$0d92ff09f4dce0a5$var$fetchMainContent","setOfCards","results","map","element","movieTitle","title","toUpperCase","moviePoster","$parcel$interopDefault","poster_path","release_date","join","message","$0d92ff09f4dce0a5$var$renderContent"],"version":3,"file":"on_load.8750119d.js.map"}